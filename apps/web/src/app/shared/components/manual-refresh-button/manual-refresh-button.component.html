<div class="manual-refresh">
  <button
    nz-button
    nzType="default"
    class="manual-refresh__button"
    [disabled]="buttonDisabled()"
    (click)="onClick()"
  >
    <nz-icon nzType="reload" [nzSpin]="refreshing()" />
    <span>Odśwież dane</span>
  </button>

  <div class="manual-refresh__meta">
    <span class="manual-refresh__state">{{ refreshStatusLabel() }}</span>
    <span class="manual-refresh__timestamp">
      @if (lastRefreshedLabel()) {
        Ostatnie: {{ lastRefreshedLabel() | date: 'short' }}
      } @else {
        Brak odświeżenia
      }
    </span>
  </div>

  @if (hasError()) {
    <nz-alert
      nzType="error"
      nzMessage="{{ errorMessage() }}"
      nzShowIcon
      class="manual-refresh__alert"
    />
  }
</div>
